<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista attività</title>
    <style>
    .completata {
        text-decoration: line-through;
        color: gray;
    }
    .evidenziata {
        background-color: yellow;
    }

    li {
        cursor: pointer;
        margin: 5px 0;
    }

    li button {
        margin-left: 10px;
        cursor: pointer;
    }
    </style>
</head>
<body>

    <h1>Lista Attività</h1>

<input type="text" id="inputAttivita" placeholder="Nuova attività...">
<button id="btnAggiungi">Aggiungi</button>

<select id="filtro">
<option value="tutto">Mostra tutto</option>
<option value="completati">Mostra solo completati</option>
</select>

<p id="messaggio">Nessuna attività inserita</p>

<ul class="lista"></ul>

<button id="svuota">Svuota lista</button>

<script>
// STEP 1 — Selezioni

    const input = document.querySelector("#inputAttivita");

    const btn = document.querySelector("#btnAggiungi");

    const lista = document.querySelector(".lista");

    const messaggio = document.querySelector("#messaggio");

    const filtro = document.querySelector("#filtro");

    const btnSvuota = document.querySelector("#svuota");



    // Funzione per aggiornare il messaggio della lista vuota

    function aggiornaMessaggio() {

      if (lista.querySelectorAll("li").length === 0) {

        messaggio.textContent = "Nessuna attività inserita";

      } else {

        messaggio.textContent = "";

      }

    }



    // STEP 2 + STEP 3 + STEP 4 + STEP 5 — Aggiungere una attività completa

    function aggiungiAttivita() {

      const testo = input.value.trim();

      if (testo === "") return;



      const li = document.createElement("li");

      li.textContent = testo;



      // CLICK → completata

      li.onclick = function (e) {

        if (e.target.tagName === "BUTTON") return; // Ignora se clicco la X

        li.classList.toggle("completata");

      };



      // DOPPIO CLICK → evidenziata

      li.ondblclick = function () {

        li.classList.toggle("evidenziata");

      };



      // Bottone X

      const btnX = document.createElement("button");

      btnX.textContent = "X";

      btnX.onclick = function () {

        li.remove();

        aggiornaMessaggio();

      };



      li.appendChild(btnX);

      lista.appendChild(li);

      input.value = "";

      aggiornaMessaggio();

    }



    btn.onclick = aggiungiAttivita;



    // STEP 7 — Svuotare lista

    btnSvuota.onclick = function () {

      lista.innerHTML = "";

      aggiornaMessaggio();

    };



    // STEP 8 — Filtro completati

    filtro.onchange = function () {

      const tuttiLi = lista.querySelectorAll("li");



      tuttiLi.forEach(li => {

        if (filtro.value === "tutto") {

          li.style.display = "";

        } else if (filtro.value === "completati") {

          li.style.display = li.classList.contains("completata") ? "" : "none";

        }

      });

    };


</script>



    
</body>
</html>